<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Pet Keeper</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link rel="stylesheet" href="petkeeper_styles.css">

        <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

        <script src="adminlogin.js"></script>
        <script src="users.js"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript">

            // Load the Visualization API and the corechart package.
            google.charts.load('current', {'packages': ['corechart']});

            // Set a callback to run when the Google Visualization API is loaded.
            google.charts.setOnLoadCallback(drawChart);


            // Callback that creates and populates a data table,
            // instantiates the pie chart, passes in the data and
            // draws it.
            function drawChart() {
                var no_keeperss = document.getElementById("hidden_keepers").value;
                var no_ownerss = document.getElementById("hidden_owners").value;

                console.log('no_keepers before parse:', no_keeperss);
                console.log('no_owners before parse:', no_ownerss);

                no_keeperss = parseInt(no_keeperss);
                no_ownerss = parseInt(no_ownerss);

                console.log('no_keepers after parse:', no_keeperss);
                console.log('no_owners after parse:', no_ownerss);

                // Create the data table.
                var data = new google.visualization.DataTable();
                data.addColumn('string', 'Type');
                data.addColumn('number', 'Number');
                data.addRows([
                    ['Pet Keepers', no_keeperss],
                    ['Pet Owners', no_ownerss]

                ]);

                // Set chart options
                var options = {'title': 'Total no. of Users',
                    'width': 400,
                    'height': 300};

                // Instantiate and draw our chart, passing in some options.
                var chart = new google.visualization.PieChart(document.getElementById('ownersChart'));
                chart.draw(data, options);
                drawChart2();
            }
            function drawChart2() {
                var no_dogss = parseInt(document.getElementById("hidden_dogs").value);
                var no_catss = parseInt(document.getElementById("hidden_cats").value);

                console.log('no_dogs', no_dogss);
                console.log('no_cats', no_catss);
                // Create the data table.
                var data = new google.visualization.DataTable();
                data.addColumn('string', 'Type');
                data.addColumn('number', 'no.');
                data.addRows([
                    ['Dogs', no_dogss],
                    ['Cats', no_catss]

                ]);

                // Set chart options
                var options = {'title': 'Total no. of Pets',
                    'width': 400,
                    'height': 300};

                // Instantiate and draw our chart, passing in some options.
                var chart = new google.visualization.BarChart(document.getElementById('petsChart'));
                chart.draw(data, options);
                drawChart3();
            }

            function drawChart3() {
                var sum_appp = parseInt(document.getElementById("hidden_sum_app").value);
                var sum_keeperss = parseInt(document.getElementById("hidden_sum_keepers").value);

                console.log('sum_appp', sum_appp);
                console.log('sum_keeperss', sum_keeperss);
                // Create the data table.
                var data = new google.visualization.DataTable();
                data.addColumn('string', 'Type');
                data.addColumn('number', '$');
                data.addRows([
                    ['App', sum_appp],
                    ['Keepers', sum_keeperss]

                ]);

                // Set chart options
                var options = {'title': 'Total $ made',
                    'width': 400,
                    'height': 300};

                // Instantiate and draw our chart, passing in some options.
                var chart = new google.visualization.PieChart(document.getElementById('moneychart'));
                chart.draw(data, options);
            }

        </script>
    </head>

    <body>



        <header>
            <h1>Pet Keeper</h1>
        </header>

        <nav class="navbar sticky-top navbar-expand-lg bg-primary-subtle">
            <div class="container-fluid">
                <a class="navbar-brand" href="Project_csd5031/../../index.html">Home</a>

                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" id="logoutButton" onclick="logout();
                                return false;">Logout</a>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="container mt-4">
            <h2>Users</h2>

        </div>
        <input type="hidden" id="hidden_keepers" value="">
        <input type="hidden" id="hidden_owners" value="">
        <input type="hidden" id="hidden_dogs" value="">
        <input type="hidden" id="hidden_cats" value="">
        <input type="hidden" id="hidden_sum_app" value="">
        <input type="hidden" id="hidden_sum_keepers" value="">
        <div class="container mt-4" id="bookingsContainer">

        </div>
        <div class="container mt-4" id="ownersContainer">

        </div>

        <div class="container mt-4" id="ownersChart"></div>
        <div class="container mt-4" id="petsChart"></div>
        <div class="container mt-4" id="moneychart"></div>



    </body>

</html>